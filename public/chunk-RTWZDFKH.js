import{a as z}from"./chunk-IIMLSVJ5.js";import{a as I,c as k,d as V,e as E,f as T,g as W,o as F,q}from"./chunk-DX54PZ3W.js";import"./chunk-DVA2SMLH.js";import"./chunk-LJ5XHLMQ.js";import{e as v,g as S,m as L}from"./chunk-VX3KMHVW.js";import{$a as _,Da as P,Ha as y,Na as C,Oa as b,Ua as r,Va as i,Wa as h,Xa as w,Ya as g,Z as p,Za as a,_ as d,bb as O,cb as m,db as u,eb as f,ua as s,za as x}from"./chunk-353TJUNG.js";import{h as M}from"./chunk-FK42CRUA.js";function N(c,l){if(c&1&&(r(0,"div",6),_(1),i()),c&2){let e=a();s(),O(" ",e.errorMessage," ")}}function A(c,l){if(c&1){let e=w();r(0,"form",7),g("ngSubmit",function(t){p(e);let n=a();return t.preventDefault(),d(n.login())}),r(1,"input",8),f("ngModelChange",function(t){p(e);let n=a();return u(n.usuarioLogin,t)||(n.usuarioLogin=t),d(t)}),i(),r(2,"input",9),f("ngModelChange",function(t){p(e);let n=a();return u(n.passwordLogin,t)||(n.passwordLogin=t),d(t)}),i(),r(3,"button",10),g("click",function(){p(e);let t=a();return d(t.fillQuickAccess())}),_(4,"Acceso R\xE1pido"),i(),h(5,"input",11),i()}if(c&2){let e=a();s(),m("ngModel",e.usuarioLogin),s(),m("ngModel",e.passwordLogin)}}function R(c,l){if(c&1){let e=w();r(0,"form",7),g("ngSubmit",function(t){return p(e),a().register(),d(t.preventDefault())}),r(1,"input",12),f("ngModelChange",function(t){p(e);let n=a();return u(n.usuarioSingup,t)||(n.usuarioSingup=t),d(t)}),i(),r(2,"input",13),f("ngModelChange",function(t){p(e);let n=a();return u(n.email,t)||(n.email=t),d(t)}),i(),r(3,"input",14),f("ngModelChange",function(t){p(e);let n=a();return u(n.passwordSingup,t)||(n.passwordSingup=t),d(t)}),i(),r(4,"input",15),f("ngModelChange",function(t){p(e);let n=a();return u(n.confirmPassword,t)||(n.confirmPassword=t),d(t)}),i(),r(5,"div",16)(6,"label",17),_(7,"Avatar (opcional):"),i(),r(8,"input",18),g("change",function(t){p(e);let n=a();return d(n.onFileSelected(t))}),i()(),h(9,"input",19),i()}if(c&2){let e=a();s(),m("ngModel",e.usuarioSingup),s(),m("ngModel",e.email),s(),m("ngModel",e.passwordSingup),s(),m("ngModel",e.confirmPassword)}}var D=class c{constructor(l,e){this.router=l;this.authService=e}modo=!0;usuarioLogin="";passwordLogin="";usuarioSingup="";passwordSingup="";confirmPassword="";email="";avatarFile=null;errorMessage=null;cambiarEstado(){this.modo=!this.modo,this.errorMessage=null}login(l){return M(this,null,function*(){l?.preventDefault(),l?.stopPropagation(),this.errorMessage=null;try{let{data:e,error:o}=yield this.authService.login(this.usuarioLogin,this.passwordLogin);o?(this.errorMessage="Email o contrase\xF1a incorrectos",setTimeout(()=>{},0)):e?.user&&this.router.navigate(["/home"])}catch(e){this.errorMessage="Error al conectar con el servidor",console.error("Login exception:",e)}})}logout(){this.authService.logout().then(()=>{this.modo=!0})}ngOnInit(){return M(this,null,function*(){yield this.authService.getSession()})}fillQuickAccess(){this.usuarioLogin="tester@tester.com",this.passwordLogin="tester"}register(){if(this.passwordSingup!==this.confirmPassword){this.errorMessage="Las contrase\xF1as no coinciden";return}this.errorMessage=null,this.authService.register(this.email,this.passwordSingup,this.usuarioSingup,this.avatarFile)}onFileSelected(l){this.avatarFile=l.target.files[0]||null}static \u0275fac=function(e){return new(e||c)(x(L),x(z))};static \u0275cmp=P({type:c,selectors:[["app-login"]],decls:10,vars:7,consts:[[1,"wrapper","fadeInDown"],["id","formContent"],[1,"tabs"],[3,"click"],["class","error-message fadeIn",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[1,"error-message","fadeIn"],[3,"ngSubmit"],["type","email","id","usuarioLogin","name","usuarioLogin","placeholder","Email","required","",1,"fadeIn","third",3,"ngModelChange","ngModel"],["type","password","id","passwordLogin","name","passwordLogin","placeholder","Contrase\xF1a","required","",1,"fadeIn","second",3,"ngModelChange","ngModel"],["type","button",1,"fadeIn","fifth","quick-access-button",3,"click"],["type","submit","value","Log In",1,"fadeIn","fourth"],["type","text","id","usuarioSingup","name","usuarioSingup","placeholder","Nombre de usuario","required","",1,"fadeIn","third",3,"ngModelChange","ngModel"],["type","email","id","email","name","email","placeholder","Email","required","",1,"fadeIn","second",3,"ngModelChange","ngModel"],["type","password","id","passwordSingup","name","passwordSingup","placeholder","Contrase\xF1a","required","",1,"fadeIn","second",3,"ngModelChange","ngModel"],["type","password","id","confirmPassword","name","confirmPassword","placeholder","Confirmar contrase\xF1a","required","",1,"fadeIn","second",3,"ngModelChange","ngModel"],[1,"avatar-upload","fadeIn","third"],["for","avatar"],["type","file","id","avatar","accept","image/*",3,"change"],["type","submit","value","Registrarme",1,"fadeIn","fourth"]],template:function(e,o){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),g("click",function(){return o.cambiarEstado()}),_(4,"Log In"),i(),r(5,"h2",3),g("click",function(){return o.cambiarEstado()}),_(6,"Registrarme"),i()(),y(7,N,2,1,"div",4)(8,A,6,2,"form",5)(9,R,10,4,"form",5),i()()),e&2&&(s(3),b("active",o.modo),s(2),b("active",!o.modo),s(2),C("ngIf",o.errorMessage),s(),C("ngIf",o.modo),s(),C("ngIf",!o.modo))},dependencies:[q,W,I,k,V,F,T,E,S,v],styles:['@charset "UTF-8";.wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#56baed;padding:20px;box-sizing:border-box}#formContent[_ngcontent-%COMP%]{background:#fff;border-radius:10px;width:100%;max-width:450px;padding:30px;box-shadow:0 30px 60px #0000004d;text-align:center;animation:_ngcontent-%COMP%_fadeInDown 1s ease;box-sizing:border-box;position:relative;overflow:visible}#formContent[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:20px}#formContent[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{cursor:pointer;margin:0 15px;padding-bottom:5px;color:#ccc;font-size:16px;font-weight:600;text-transform:uppercase}#formContent[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   h2.active[_ngcontent-%COMP%]{color:#0d0d0d;border-bottom:2px solid #5fbae9}#formContent[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], #formContent[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], #formContent[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%], #formContent[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{opacity:1!important;visibility:visible!important;display:block!important;position:static!important;background-color:#f6f6f6;border:none;color:#0d0d0d;padding:15px 32px;text-align:center;width:85%;margin:5px auto;border:2px solid #f6f6f6;border-radius:5px;transition:all .5s ease;box-sizing:border-box}#formContent[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, #formContent[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus, #formContent[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus, #formContent[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]:focus{background-color:#fff;border-bottom:2px solid #5fbae9}#formContent[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder, #formContent[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]::placeholder, #formContent[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]::placeholder, #formContent[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]::placeholder{color:#999}#formContent[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%], #formContent[_ngcontent-%COMP%]   .quick-access-button[_ngcontent-%COMP%]{opacity:1!important;visibility:visible!important;display:block!important;position:static!important;border:none;color:#fff;padding:15px 80px;text-transform:uppercase;font-size:13px;border-radius:5px;cursor:pointer;transition:all .3s ease;width:85%;margin:10px auto;box-sizing:border-box}#formContent[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]{background-color:#56baed;box-shadow:0 10px 30px #5fbae966}#formContent[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]:hover{background-color:#28a7e8}#formContent[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]:active{transform:scale(.95)}#formContent[_ngcontent-%COMP%]   .quick-access-button[_ngcontent-%COMP%]{background-color:#6c757d;box-shadow:0 10px 30px #6c757d4d}#formContent[_ngcontent-%COMP%]   .quick-access-button[_ngcontent-%COMP%]:hover{background-color:#545b62}#formContent[_ngcontent-%COMP%]   .quick-access-button[_ngcontent-%COMP%]:active{transform:scale(.95)}#formContent[_ngcontent-%COMP%]   .avatar-upload[_ngcontent-%COMP%]{opacity:1!important;visibility:visible!important;display:block!important;position:static!important;margin:15px auto;width:85%;text-align:left;box-sizing:border-box}#formContent[_ngcontent-%COMP%]   .avatar-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#0d0d0d;font-size:14px}#formContent[_ngcontent-%COMP%]   .avatar-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{padding:10px;width:100%;box-sizing:border-box}#formContent[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#ff3860!important;background-color:#ffebee!important;padding:12px!important;margin:15px auto!important;border:1px solid #ff3860!important;border-radius:4px!important;font-size:14px!important;text-align:center!important;display:block!important;opacity:1!important;visibility:visible!important;position:relative!important;z-index:1000!important;width:85%!important;box-sizing:border-box!important}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translate3d(0,-20px,0)}to{opacity:1;transform:none}}.fadeIn.second[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease .1s backwards}.fadeIn.third[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease .2s backwards}.fadeIn.fourth[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease .3s backwards}.fadeIn.fifth[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease .4s backwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}']})};export{D as LoginComponent};
